package org.bioplat.classifiers;

import org.bioplat.classifiers.model.ClassifierFunctionDescriptor;
import org.bioplat.classifiers.repository.FunctionsRepository;
import org.bioplat.classifiers.service.RService;
import org.junit.Assert;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.ActiveProfiles;
import org.springframework.test.context.junit4.SpringRunner;

@RunWith(SpringRunner.class)
@SpringBootTest
@ActiveProfiles("testing")
public class FunctionTest {

    @Autowired
    private FunctionsRepository functionsRepository;

    private String dataset =
            "[[\"KRT17\",\"-0.36\",\"-0.34\",\"-0.27\",\"-0.51\",\"-0.21\",\"-0.35\",\"-0.26\",\"-0.47\",\"-0.46\",\"0.88\",\"-0.22\",\"-0.08\",\"-0.08\",\"0.08\",\"-0.14\",\"-0.12\",\"-0.04\",\"0.09\",\"0.12\",\"-0.28\",\"-0.09\",\"-0.76\",\"-0.57\",\"-0.52\",\"-0.27\",\"0.16\",\"-0.05\",\"-0.58\",\"-0.48\"],[\"FOXC1\",\"-0.36\",\"-0.4\",\"-0.39\",\"-0.45\",\"-0.54\",\"-0.43\",\"-0.26\",\"-0.61\",\"-0.76\",\"1.28\",\"-0.45\",\"-0.49\",\"-0.29\",\"1.11\",\"-0.53\",\"-0.53\",\"-0.3\",\"-0.43\",\"-0.59\",\"-0.48\",\"-0.58\",\"0.65\",\"-0.62\",\"-0.73\",\"-0.53\",\"-0.6\",\"-0.31\",\"-0.71\",\"-0.59\"],[\"EGFR\",\"0.02\",\"-0.04\",\"-0.08\",\"-0.08\",\"-0.07\",\"-0.05\",\"-0.19\",\"0.01\",\"0.07\",\"0.03\",\"-0.07\",\"-0.09\",\"1\",\"-0.04\",\"-0.19\",\"1\",\"-0.02\",\"-0.04\",\"-0.12\",\"-0.08\",\"-0.06\",\"-0.07\",\"-0.35\",\"-0.04\",\"-0.11\",\"-0.06\",\"-0.18\",\"1\",\"0.01\"],[\"PFKP\",\"0.39\",\"-0.21\",\"-0.23\",\"-0.67\",\"-0.47\",\"-0.17\",\"-0.48\",\"-0.3\",\"0.19\",\"-0.08\",\"-0.27\",\"-0.13\",\"-0.01\",\"0.55\",\"0.77\",\"-0.19\",\"-0.28\",\"-0.46\",\"-0.23\",\"0.27\",\"-0.06\",\"0.38\",\"-0.44\",\"-0.36\",\"0.11\",\"-0.57\",\"-0.13\",\"-0.32\",\"0.23\"],[\"BTG3\",\"-0.44\",\"-0.31\",\"-0.36\",\"-0.45\",\"-0.24\",\"-0.34\",\"-0.42\",\"-0.12\",\"-0.06\",\"0.17\",\"-0.37\",\"-0.18\",\"-0.02\",\"0.26\",\"0.07\",\"-0.36\",\"-0.19\",\"-0.21\",\"-0.17\",\"0.1\",\"-0.29\",\"0.24\",\"-0.46\",\"-0.56\",\"0.11\",\"-0.47\",\"0.25\",\"-0.38\",\"0.01\"],[\"CCNE1\",\"-0.12\",\"-0.08\",\"-0.04\",\"-0.07\",\"0.03\",\"0.04\",\"0.08\",\"-0.03\",\"0.02\",\"0.14\",\"-0.02\",\"-0.05\",\"0.05\",\"0.13\",\"-0.02\",\"-0.06\",\"-0.11\",\"-0.03\",\"0.05\",\"0.26\",\"-0.03\",\"0.15\",\"-0.35\",\"-0.08\",\"0.03\",\"-0.06\",\"-0.54\",\"-0.11\",\"-0.03\"],[\"MCM2\",\"-0.08\",\"-0.11\",\"-0.08\",\"-0.11\",\"0.03\",\"0.04\",\"0.08\",\"1\",\"0.13\",\"1\",\"0.08\",\"-0.16\",\"-0.14\",\"0.35\",\"0.31\",\"-0.05\",\"-0.12\",\"0.04\",\"1\",\"0.12\",\"0.02\",\"0.38\",\"-0.37\",\"0.17\",\"0.11\",\"-0.02\",\"-0.12\",\"0.29\",\"-0.03\"],[\"MCM3\",\"-0.07\",\"-0.02\",\"-0.05\",\"-0.12\",\"0.02\",\"-0.08\",\"-0.11\",\"-0.12\",\"0.05\",\"0.02\",\"0.06\",\"-0.06\",\"-0.03\",\"0.19\",\"-0.05\",\"-0.13\",\"-0.08\",\"-0.08\",\"-0.05\",\"-0.03\",\"0.07\",\"0.16\",\"-0.08\",\"0.05\",\"0.38\",\"0.01\",\"-0.02\",\"0.18\",\"-0.03\"],[\"DTL\",\"-0.4\",\"-0.1\",\"0.06\",\"-0.19\",\"0.14\",\"0.09\",\"0.12\",\"0.02\",\"-0.05\",\"-0.03\",\"0.27\",\"-0.28\",\"0.04\",\"0.1\",\"0.19\",\"-0.2\",\"-0.05\",\"-0.01\",\"-0.1\",\"0.04\",\"-0.19\",\"0.15\",\"-0.27\",\"0.04\",\"-0.17\",\"-0.06\",\"-0.08\",\"0.24\",\"1\"],[\"RRM2\",\"-0.63\",\"-0.35\",\"-0.13\",\"-1.01\",\"0.21\",\"-0.04\",\"-0.3\",\"-0.05\",\"0.36\",\"-0.15\",\"1\",\"-0.69\",\"-0.18\",\"0.17\",\"-0.18\",\"-0.35\",\"-0.21\",\"0.11\",\"-0.35\",\"0.11\",\"-0.27\",\"0.03\",\"-0.39\",\"0.02\",\"0.17\",\"-0.05\",\"0.13\",\"0.13\",\"-0.07\"],[\"KIF23\",\"-0.33\",\"-0.07\",\"-0.1\",\"-0.39\",\"0.07\",\"0.07\",\"-0.11\",\"-0.18\",\"-0.03\",\"-0.17\",\"-0.16\",\"-0.32\",\"-0.12\",\"0.38\",\"-0.03\",\"-0.16\",\"-0.06\",\"-0.08\",\"-0.2\",\"0.09\",\"0.09\",\"0.08\",\"-0.43\",\"0.01\",\"0.3\",\"-0.01\",\"-0.37\",\"0.2\",\"-0.07\"],[\"NUSAP1\",\"-0.41\",\"-0.19\",\"-0.12\",\"-0.57\",\"0.23\",\"0.04\",\"-0.09\",\"-0.27\",\"0.17\",\"-0.03\",\"0.1\",\"-0.52\",\"-0.15\",\"0.19\",\"0.13\",\"-0.33\",\"-0.06\",\"-0.23\",\"-0.11\",\"0.13\",\"-0.3\",\"0.13\",\"-0.17\",\"0.2\",\"0.02\",\"1\",\"-0.07\",\"0.36\",\"0.06\"],[\"MAD2L1\",\"-0.47\",\"-0.38\",\"-0.36\",\"-0.5\",\"1\",\"0.11\",\"-0.01\",\"-0.17\",\"-0.01\",\"-0.05\",\"0.15\",\"-0.38\",\"-0.14\",\"0.05\",\"0.03\",\"-0.45\",\"-0.42\",\"-0.13\",\"-0.32\",\"-0.02\",\"-0.02\",\"-0.19\",\"-0.38\",\"-0.12\",\"-0.01\",\"-0.07\",\"-0.07\",\"0.17\",\"-0.31\"],[\"CENPU\",\"-0.34\",\"-0.34\",\"-0.18\",\"-0.46\",\"0.07\",\"0.16\",\"0.08\",\"-0.06\",\"0.13\",\"-0.04\",\"0.1\",\"-0.55\",\"0.19\",\"0.35\",\"0.01\",\"-0.22\",\"-0.32\",\"-0.14\",\"-0.26\",\"0.16\",\"-0.04\",\"0.1\",\"-0.42\",\"-0.05\",\"-0.09\",\"0.06\",\"-0.08\",\"0.37\",\"-0.14\"],[\"SPAG5\",\"-0.35\",\"-0.28\",\"-0.12\",\"-0.32\",\"-0.13\",\"0.21\",\"-0.06\",\"-0.14\",\"0.11\",\"0.11\",\"-0.09\",\"-0.36\",\"-0.06\",\"0.2\",\"0.02\",\"-0.14\",\"-0.15\",\"0.26\",\"-0.24\",\"0.21\",\"-0.22\",\"0.29\",\"-0.27\",\"0.07\",\"0.82\",\"0.19\",\"-0.1\",\"0.5\",\"-0.14\"],[\"CCNB1\",\"-0.3\",\"-0.26\",\"0.01\",\"-0.41\",\"0.04\",\"0.19\",\"-0.08\",\"-0.17\",\"0.17\",\"0.09\",\"0.01\",\"-0.45\",\"0.01\",\"0.34\",\"0.41\",\"-0.04\",\"-0.2\",\"0.06\",\"-0.09\",\"0.34\",\"-0.1\",\"0.27\",\"-0.01\",\"-0.14\",\"-0.19\",\"-0.08\",\"-0.28\",\"0.36\",\"0.07\"],[\"UBE2C\",\"-0.32\",\"-0.17\",\"1\",\"-0.3\",\"0.01\",\"0.33\",\"0.14\",\"-0.13\",\"0.03\",\"0.35\",\"0.45\",\"-0.31\",\"0.07\",\"0.37\",\"0.42\",\"-0.15\",\"0.04\",\"0.05\",\"-0.11\",\"0.15\",\"-0.22\",\"0.26\",\"-0.17\",\"-0.13\",\"-0.02\",\"0.04\",\"-0.04\",\"0.28\",\"-0.08\"],[\"AURKA\",\"-0.41\",\"-0.13\",\"-0.08\",\"-0.39\",\"-0.05\",\"0.06\",\"-0.1\",\"-0.11\",\"0.01\",\"0.16\",\"0.63\",\"-0.29\",\"0.07\",\"0.45\",\"0.31\",\"-0.21\",\"-0.29\",\"0.05\",\"-0.23\",\"0.12\",\"-0.26\",\"0.13\",\"-0.19\",\"-0.11\",\"-0.1\",\"-0.15\",\"-0.1\",\"0.17\",\"-0.1\"],[\"TPX2\",\"-0.15\",\"-0.2\",\"0.04\",\"-0.16\",\"-0.03\",\"1\",\"1\",\"1\",\"0.03\",\"0.38\",\"0.05\",\"-0.31\",\"0.07\",\"0.47\",\"0.27\",\"-0.11\",\"-0.17\",\"-0.04\",\"-0.11\",\"0.07\",\"-0.16\",\"0.15\",\"-0.15\",\"-0.01\",\"0.13\",\"-0.11\",\"-0.27\",\"0.2\",\"-0.04\"],[\"MELK\",\"-0.32\",\"-0.23\",\"-0.1\",\"-0.21\",\"0.1\",\"0.09\",\"-0.08\",\"-0.11\",\"0.17\",\"0.29\",\"0.1\",\"-0.36\",\"0.07\",\"0.6\",\"0.16\",\"-0.11\",\"-0.24\",\"-0.06\",\"-0.1\",\"0.28\",\"-0.27\",\"0.65\",\"-0.34\",\"-0.13\",\"0.19\",\"-0.1\",\"-0.34\",\"0.42\",\"-0.01\"],[\"TYMS\",\"-0.2\",\"-0.23\",\"0.08\",\"-0.36\",\"1\",\"-0.03\",\"0.02\",\"-0.1\",\"-0.12\",\"0.22\",\"0.03\",\"-0.14\",\"-0.25\",\"0.22\",\"-0.08\",\"-0.13\",\"-0.22\",\"-0.11\",\"-0.17\",\"0.06\",\"-0.04\",\"0.2\",\"-0.22\",\"0.04\",\"-0.1\",\"-0.24\",\"-0.21\",\"0.25\",\"-0.05\"],[\"EXO1\",\"-0.23\",\"-0.12\",\"-0.06\",\"-0.09\",\"0.05\",\"0.12\",\"0.05\",\"-0.1\",\"-0.03\",\"0.3\",\"0.14\",\"-0.11\",\"0.11\",\"0.43\",\"0.37\",\"-0.08\",\"-0.07\",\"-0.02\",\"-0.02\",\"0.15\",\"-0.16\",\"0.29\",\"-0.24\",\"-0.15\",\"-0.02\",\"-0.32\",\"0.1\",\"0.2\",\"-0.01\"],[\"CCNA2\",\"-0.24\",\"-0.14\",\"-0.11\",\"-0.14\",\"0.02\",\"0.16\",\"0.09\",\"-0.01\",\"-0.05\",\"0.24\",\"0.1\",\"-0.06\",\"0.05\",\"0.33\",\"0.29\",\"0.03\",\"0.01\",\"0.02\",\"-0.1\",\"0.09\",\"1\",\"0.24\",\"-0.21\",\"-0.13\",\"1\",\"-0.16\",\"0.1\",\"0.22\",\"-0.1\"],[\"KIF2C\",\"-0.41\",\"-0.36\",\"-0.19\",\"-0.44\",\"1\",\"0.17\",\"0.07\",\"-0.18\",\"0.2\",\"0.59\",\"-0.34\",\"-0.38\",\"-0.2\",\"0.5\",\"0.07\",\"-0.25\",\"-0.22\",\"0.04\",\"-0.27\",\"0.16\",\"-0.1\",\"0.28\",\"-0.34\",\"-0.26\",\"0.08\",\"-0.18\",\"1\",\"0.1\",\"-0.12\"],[\"CDC20\",\"-0.18\",\"-0.13\",\"-0.13\",\"-0.25\",\"-0.04\",\"-0.07\",\"-0.15\",\"-0.09\",\"0.08\",\"0.3\",\"-0.23\",\"-0.28\",\"-0.18\",\"0.28\",\"0.03\",\"-0.1\",\"-0.15\",\"0.1\",\"-0.02\",\"0.11\",\"-0.01\",\"0.17\",\"0.03\",\"-0.1\",\"-0.12\",\"-0.13\",\"-0.09\",\"0.02\",\"-0.04\"],[\"TRIP13\",\"-0.26\",\"-0.27\",\"-0.17\",\"-0.38\",\"-0.11\",\"-0.1\",\"-0.09\",\"-0.07\",\"0.25\",\"0.51\",\"-0.12\",\"-0.34\",\"-0.05\",\"0.31\",\"0.21\",\"-0.04\",\"-0.16\",\"-0.01\",\"-0.14\",\"0.18\",\"-0.06\",\"0.13\",\"-0.04\",\"-0.09\",\"0.16\",\"-0.14\",\"-0.07\",\"0.03\",\"-0.11\"],[\"TK1\",\"-0.34\",\"-0.44\",\"-0.24\",\"-0.43\",\"-0.07\",\"-0.39\",\"-0.08\",\"0.04\",\"-0.02\",\"0.15\",\"-0.09\",\"-0.55\",\"-0.29\",\"0.25\",\"0.12\",\"-0.23\",\"-0.24\",\"-0.24\",\"-0.24\",\"0.08\",\"-0.2\",\"-0.13\",\"-0.1\",\"0.05\",\"0.1\",\"-0.37\",\"0.08\",\"0.01\",\"-0.22\"],[\"CDC6\",\"-0.48\",\"-0.41\",\"-0.44\",\"-0.5\",\"0.03\",\"-0.28\",\"-0.18\",\"-0.1\",\"0.3\",\"-0.11\",\"-0.26\",\"-0.42\",\"-0.09\",\"-0.11\",\"0.06\",\"-0.31\",\"-0.37\",\"-0.15\",\"-0.26\",\"-0.01\",\"-0.05\",\"-0.05\",\"-0.05\",\"-0.15\",\"0.07\",\"-0.23\",\"-0.18\",\"0.22\",\"-0.12\"],[\"TTK\",\"-0.15\",\"-0.19\",\"-0.09\",\"-0.16\",\"-0.07\",\"0.15\",\"0.11\",\"-0.14\",\"0.1\",\"0.51\",\"-0.03\",\"-0.18\",\"0.02\",\"0.44\",\"0.03\",\"-0.19\",\"-0.13\",\"-0.02\",\"-0.11\",\"0.04\",\"1\",\"0.28\",\"-0.25\",\"-0.07\",\"-0.07\",\"-0.06\",\"-0.01\",\"0.07\",\"-0.02\"],[\"DLGAP5\",\"-0.16\",\"-0.19\",\"0.07\",\"-0.18\",\"0.08\",\"0.21\",\"0.32\",\"-0.08\",\"0.07\",\"0.5\",\"1\",\"-0.11\",\"0.25\",\"0.44\",\"0.22\",\"-0.13\",\"-0.04\",\"-0.1\",\"-0.03\",\"0.25\",\"-0.12\",\"0.28\",\"-0.04\",\"-0.03\",\"-0.13\",\"-0.14\",\"0.02\",\"0.3\",\"-0.03\"],[\"NDC80\",\"-0.12\",\"-0.19\",\"0.08\",\"-0.13\",\"0.11\",\"0.2\",\"0.28\",\"-0.03\",\"-0.1\",\"0.42\",\"-0.02\",\"0.04\",\"0.01\",\"0.34\",\"0.08\",\"-0.02\",\"-0.03\",\"-0.06\",\"0.02\",\"0.17\",\"-0.05\",\"0.51\",\"-0.03\",\"0.09\",\"-0.1\",\"-0.19\",\"0.31\",\"0.29\",\"0.06\"],[\"CDKN3\",\"-0.01\",\"-0.18\",\"1\",\"-0.11\",\"0.03\",\"-0.04\",\"0.15\",\"-0.03\",\"0.14\",\"0.19\",\"-0.03\",\"-0.09\",\"0.12\",\"0.13\",\"0.22\",\"-0.09\",\"-0.06\",\"1\",\"-0.06\",\"0.04\",\"-0.05\",\"0.25\",\"-0.15\",\"-0.09\",\"0.11\",\"-0.08\",\"-0.14\",\"0.18\",\"-0.06\"],[\"PLK1\",\"0.04\",\"0.03\",\"0.07\",\"0.14\",\"0.09\",\"0.18\",\"0.19\",\"1\",\"0.06\",\"0.32\",\"0.01\",\"0.07\",\"-0.02\",\"0.12\",\"0.08\",\"0.1\",\"0.11\",\"0.04\",\"0.08\",\"1\",\"0.07\",\"0.12\",\"0.22\",\"-0.06\",\"0.01\",\"-0.02\",\"0.22\",\"0.1\",\"-0.01\"],[\"ERBB2\",\"-0.24\",\"-0.45\",\"-0.48\",\"-0.34\",\"0.21\",\"-0.67\",\"-0.21\",\"-0.56\",\"0.75\",\"-0.44\",\"-0.51\",\"-0.29\",\"-0.44\",\"-0.85\",\"0.78\",\"-0.43\",\"-0.48\",\"-0.7\",\"-0.33\",\"0.82\",\"-0.37\",\"-1.15\",\"-0.35\",\"-0.39\",\"0.66\",\"-0.25\",\"0.71\",\"0.75\",\"-0.43\"],[\"CDH1\",\"0.18\",\"-0.05\",\"-0.24\",\"-0.31\",\"0.48\",\"1\",\"-0.35\",\"-0.18\",\"0.45\",\"-0.37\",\"0.48\",\"-0.21\",\"0.03\",\"-0.3\",\"-0.26\",\"-0.06\",\"-0.12\",\"0.07\",\"-0.32\",\"-0.1\",\"0.2\",\"-0.09\",\"0.05\",\"0.12\",\"0.01\",\"0.34\",\"0.1\",\"0.09\",\"-0.08\"],[\"INPP4B\",\"-0.01\",\"-0.05\",\"0.19\",\"0.03\",\"0.07\",\"0.13\",\"-0.12\",\"0.02\",\"-0.06\",\"-0.42\",\"-0.04\",\"0.04\",\"0.45\",\"-0.23\",\"0.4\",\"0.18\",\"0.1\",\"0.05\",\"-0.16\",\"-0.04\",\"0.21\",\"-0.24\",\"-0.22\",\"-0.08\",\"0.07\",\"0.11\",\"-0.17\",\"0.12\",\"-0.1\"],[\"CIRBP\",\"0.17\",\"0.07\",\"0.17\",\"0.27\",\"-0.01\",\"1\",\"0.16\",\"0.26\",\"-0.28\",\"-0.38\",\"0.03\",\"0.05\",\"0.03\",\"-0.53\",\"-0.15\",\"0.1\",\"-0.02\",\"-0.15\",\"0.28\",\"-0.24\",\"-0.01\",\"-0.45\",\"0.34\",\"-0.07\",\"-0.17\",\"0.2\",\"1\",\"0.05\",\"-0.03\"],[\"XBP1\",\"0.2\",\"0.07\",\"-0.13\",\"0.24\",\"-0.14\",\"-0.05\",\"-0.23\",\"-0.02\",\"-0.5\",\"-0.89\",\"0.11\",\"0.18\",\"-0.23\",\"-0.76\",\"-0.04\",\"-0.15\",\"0.06\",\"0.26\",\"0.19\",\"0.12\",\"0.22\",\"-0.58\",\"0.08\",\"0.13\",\"0.05\",\"0.28\",\"-0.24\",\"0.04\",\"-0.17\"],[\"GATA3\",\"0.03\",\"0.2\",\"0.31\",\"0.18\",\"0.02\",\"0.42\",\"0.02\",\"0.14\",\"-1.01\",\"-0.35\",\"0.23\",\"0.01\",\"0.04\",\"-0.59\",\"-0.31\",\"0.2\",\"-0.19\",\"0.05\",\"0.4\",\"-0.36\",\"0.09\",\"-0.84\",\"0.35\",\"-0.11\",\"-0.43\",\"0.35\",\"-0.53\",\"0.02\",\"0.1\"],[\"VAV3\",\"0.34\",\"-0.39\",\"-0.21\",\"0.26\",\"0.07\",\"0.31\",\"-0.06\",\"-0.09\",\"-0.2\",\"-0.66\",\"-0.72\",\"0.03\",\"-0.25\",\"-0.98\",\"-0.63\",\"0.29\",\"-0.12\",\"0.1\",\"0.07\",\"-0.18\",\"-0.07\",\"-1.11\",\"-0.73\",\"-0.79\",\"-0.68\",\"0.2\",\"-0.33\",\"-0.39\",\"-0.08\"],[\"SCUBE2\",\"-0.16\",\"0.18\",\"0.69\",\"-0.53\",\"-0.04\",\"0.28\",\"0.26\",\"0.45\",\"-1.01\",\"-0.99\",\"-0.15\",\"0.12\",\"0.45\",\"-1.08\",\"-0.84\",\"0.71\",\"-0.08\",\"-0.43\",\"-0.07\",\"-0.99\",\"-0.4\",\"-1.16\",\"-0.84\",\"-0.41\",\"-0.83\",\"-0.35\",\"-0.74\",\"-0.73\",\"-0.01\"],[\"NPY1R\",\"-0.41\",\"1.03\",\"-0.23\",\"-0.31\",\"-0.85\",\"1\",\"-0.46\",\"0.18\",\"-1.72\",\"-1.51\",\"-0.29\",\"-0.64\",\"-0.47\",\"-1\",\"-1.55\",\"-0.83\",\"-1.15\",\"-0.55\",\"-1.25\",\"-1.61\",\"-1.54\",\"-1.78\",\"-0.48\",\"-0.2\",\"-1.52\",\"-0.12\",\"-1.26\",\"-1.52\",\"-0.73\"],[\"MYB\",\"-0.15\",\"-0.22\",\"0.19\",\"-0.14\",\"0.02\",\"0.01\",\"-0.37\",\"0.31\",\"0.17\",\"-0.9\",\"-0.09\",\"0.05\",\"-0.16\",\"-0.69\",\"-0.54\",\"-0.01\",\"-0.19\",\"0.29\",\"0.28\",\"-0.64\",\"-0.08\",\"-0.57\",\"0.03\",\"-0.09\",\"-0.4\",\"0.15\",\"-0.27\",\"-0.34\",\"-0.51\"],[\"BCL2\",\"0.45\",\"-0.16\",\"0.31\",\"0.23\",\"0.09\",\"-0.03\",\"0.04\",\"-0.01\",\"-0.76\",\"-0.47\",\"0.03\",\"0.06\",\"-0.1\",\"-0.75\",\"-0.72\",\"-0.1\",\"-0.22\",\"0.19\",\"0.31\",\"-0.34\",\"-0.05\",\"-0.82\",\"0.41\",\"0.63\",\"-0.59\",\"0.62\",\"-0.5\",\"-0.16\",\"-0.5\"],[\"SLC39A6\",\"0.35\",\"-0.14\",\"-0.22\",\"-0.01\",\"-0.18\",\"0.08\",\"0.17\",\"-0.2\",\"-0.53\",\"-0.97\",\"0.02\",\"-0.15\",\"-0.03\",\"-0.75\",\"-0.65\",\"-0.28\",\"-0.43\",\"-0.36\",\"0.56\",\"-0.5\",\"-0.32\",\"-0.82\",\"0.05\",\"0.91\",\"-0.69\",\"0.35\",\"-0.35\",\"-0.21\",\"-0.76\"],[\"ESR1\",\"-0.41\",\"0.2\",\"0.6\",\"0.5\",\"-0.07\",\"0.12\",\"0.27\",\"0.09\",\"-1.01\",\"-1.32\",\"-0.2\",\"-0.25\",\"-0.16\",\"-1.16\",\"-0.66\",\"0.1\",\"-0.44\",\"-0.05\",\"0.04\",\"-1.26\",\"-0.39\",\"-1.09\",\"-0.17\",\"0.01\",\"-1.3\",\"0.58\",\"-0.89\",\"-0.42\",\"-0.27\"],[\"IL6ST\",\"0.03\",\"0.28\",\"0.18\",\"0.35\",\"0.13\",\"-0.08\",\"0.06\",\"0.32\",\"-0.69\",\"-0.78\",\"-0.09\",\"-0.01\",\"0.01\",\"-0.75\",\"-0.71\",\"-0.05\",\"-0.08\",\"-0.4\",\"0.05\",\"-0.46\",\"0.06\",\"-0.53\",\"0.14\",\"0.29\",\"-0.42\",\"0.06\",\"-0.46\",\"-0.17\",\"-0.14\"],[\"IRS1\",\"-0.16\",\"0.3\",\"0.49\",\"0.27\",\"-0.04\",\"-0.13\",\"0.03\",\"-0.2\",\"-0.66\",\"-0.38\",\"0.03\",\"0.01\",\"0.02\",\"-0.64\",\"-0.1\",\"0.3\",\"-0.11\",\"0.24\",\"0.08\",\"-0.41\",\"-0.06\",\"-0.73\",\"0.09\",\"0.29\",\"-0.47\",\"0.28\",\"-0.44\",\"-0.36\",\"-0.14\"],[\"COX6C\",\"0.09\",\"-0.49\",\"-0.33\",\"-0.17\",\"-0.11\",\"0.08\",\"0.1\",\"-0.23\",\"-0.55\",\"-0.57\",\"-0.06\",\"-0.08\",\"-0.22\",\"-0.64\",\"-0.63\",\"-0.23\",\"-0.55\",\"-0.57\",\"-0.21\",\"-0.49\",\"-0.36\",\"-0.87\",\"0.24\",\"0.4\",\"-0.63\",\"0.45\",\"-0.33\",\"-0.1\",\"-0.69\"],[\"FOS\",\"0.32\",\"-0.26\",\"-0.45\",\"0.35\",\"0.09\",\"0.08\",\"-0.02\",\"-0.25\",\"0.35\",\"-0.57\",\"-0.47\",\"0.15\",\"-0.32\",\"-0.68\",\"-0.13\",\"-0.4\",\"-0.5\",\"-0.09\",\"-0.11\",\"-0.42\",\"-0.45\",\"-0.37\",\"-0.1\",\"-0.56\",\"-0.45\",\"-0.73\",\"-0.3\",\"0.08\",\"-0.34\"],[\"FN1\",\"-0.07\",\"0.32\",\"0.2\",\"-0.52\",\"-0.14\",\"0.1\",\"-0.53\",\"-0.06\",\"-0.33\",\"-0.34\",\"0.16\",\"0.08\",\"0.04\",\"-0.37\",\"0.21\",\"0.33\",\"0.52\",\"1\",\"-0.24\",\"0.37\",\"0.09\",\"-0.46\",\"-0.25\",\"-0.4\",\"0.19\",\"-0.63\",\"-0.72\",\"0.17\",\"0.19\"],[\"IGFBP5\",\"-0.32\",\"-0.22\",\"-0.23\",\"-0.51\",\"-0.24\",\"-0.38\",\"-0.28\",\"-0.07\",\"-0.59\",\"-0.44\",\"-0.33\",\"-0.11\",\"-0.11\",\"-0.62\",\"1\",\"-0.13\",\"0.17\",\"-0.41\",\"-0.41\",\"-0.27\",\"0.13\",\"-0.65\",\"-0.38\",\"-0.51\",\"0.89\",\"-0.45\",\"-0.28\",\"-0.2\",\"0.47\"]]";

    private String clusters =
            "[{\"sample\":\"sample122\",\"grupo\":1},{\"sample\":\"sample123\",\"grupo\":1},{\"sample\":\"sample124\",\"grupo\":1},{\"sample\":\"sample125\",\"grupo\":1},{\"sample\":\"sample126\",\"grupo\":1},{\"sample\":\"sample127\",\"grupo\":1},{\"sample\":\"sample128\",\"grupo\":1},{\"sample\":\"sample129\",\"grupo\":1},{\"sample\":\"sample130\",\"grupo\":1},{\"sample\":\"sample131\",\"grupo\":2},{\"sample\":\"sample132\",\"grupo\":1},{\"sample\":\"sample133\",\"grupo\":1},{\"sample\":\"sample134\",\"grupo\":1},{\"sample\":\"sample135\",\"grupo\":2},{\"sample\":\"sample136\",\"grupo\":1},{\"sample\":\"sample137\",\"grupo\":1},{\"sample\":\"sample138\",\"grupo\":1},{\"sample\":\"sample139\",\"grupo\":1},{\"sample\":\"sample140\",\"grupo\":1},{\"sample\":\"sample141\",\"grupo\":1},{\"sample\":\"sample142\",\"grupo\":1},{\"sample\":\"sample144\",\"grupo\":2},{\"sample\":\"sample145\",\"grupo\":1},{\"sample\":\"sample146\",\"grupo\":1},{\"sample\":\"sample147\",\"grupo\":1},{\"sample\":\"sample148\",\"grupo\":1},{\"sample\":\"sample149\",\"grupo\":1},{\"sample\":\"sample150\",\"grupo\":1},{\"sample\":\"sample151\",\"grupo\":1}]";

    private String clusterLabels =
            "[{\"group\":1,\"descripcion\":\"alto riesgo. Se sugiere bla bla\"},{\"group\":2,\"descripcion\":\"bajo riesgo. Se sugiere blo blao\"}]";

    @Test
    public void creation() {

        ClassifierFunctionDescriptor f = new ClassifierFunctionDescriptor("yo", "classifier1", dataset, clusters, clusterLabels);
        f = functionsRepository.save(f);
        ClassifierFunctionDescriptor f2 = new ClassifierFunctionDescriptor("yo también", "classifier2", dataset, clusters, clusterLabels);
        f2 = functionsRepository.save(f2);

        Assert.assertTrue(!f.id().equals(f2.id()));


    }
}
